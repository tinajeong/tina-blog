---
title: 'Typescript ì •ë¦¬ -Advanced Types'
thumbSrc: '/static/images/typescript.webp'
date: '2022-06-19'
tags: ['typescript']
draft: false
summary: 'íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ê³ ê¸‰íƒ€ì…ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.'
images: ['/static/images/typescript.webp']
---

# ğŸ“Œ ëª©ì°¨

![typescript](/static/images/typescript.webp)

- **1.êµì°¨íƒ€ì…**
- **2.íƒ€ì…ê°€ë“œ**
- **3.êµ¬ë³„ëœìœ ë‹ˆì–¸**
- **4.í˜•ë³€í™˜**
- **5.ì¸ë±ìŠ¤íƒ€ì…**
- **6.ì„ íƒì ì²´ì´ë‹**
- **7.Nullë³‘í•©ì—°ì‚°ì**

---

ì´ë²ˆì—ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì§€ì›í•˜ëŠ” ê³ ê¸‰íƒ€ì…ì— ëŒ€í•´ ì •ë¦¬í–ˆë‹¤. ìë°”ì™€ì˜ ì—°ê´€ì„±ì€ ë¹„êµì  ë–¨ì–´ì§€ê¸° ë•Œë¬¸ì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ìì²´ë§Œ ì •ë¦¬í•˜ì˜€ë‹¤. 

# 1. êµì°¨íƒ€ì… *`Intersection Type`*
ë‘ê°€ì§€ íƒ€ì…ì„ `&` ê¸°í˜¸ì™€ í•¨ê»˜ ì—°ê²°ì‹œì¼œ ì‚¬ìš©í•œë‹¤. 
ì•„ë˜ ì½”ë“œ ì²˜ëŸ¼ Adminê³¼ Employeeë¥¼ êµì°¨íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ì–´ ElevatedEmployeeì— í• ë‹¹í•˜ë©´, ElevatedEmployeeëŠ” 
ë‘ íƒ€ì…ì— ìˆëŠ” ëª¨ë“  ë©¤ë²„ì¸ name, privileges, startDateë¥¼ ëª¨ë‘ ê°€ì§€ê²Œ ëœë‹¤. `|` ê¸°í˜¸ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ìœ ë‹ˆì–¸ íƒ€ì…ì€ **ë‘ íƒ€ì…ì¤‘ ê³µí†µ ì†ì„±ì˜ ì¡´ì¬ë§Œ ë³´ì¥**í™œ ìˆ˜ ìˆë‹¤.

êµì°¨í‹°ì…ì€ ìœ ë‹ˆì–¸ íƒ€ì…ì²˜ëŸ¼ type ë¬¸ë²• ë¿ ì•„ë‹ˆë¼, interfaceì™€ë„ í˜¼ìš©í•´ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ë‹¤ë§Œ ì›ì‹œíƒ€ì…ì˜ ê²½ìš° numberì´ë©´ì„œ stringì¸ ê°’ì€ ì¡´ì¬í•˜ì§€ ì•Šì•„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

```typescript
type Admin = {
  name: string;
  privileges: string[];
};

type Employee = {
  name: string;
  startDate: Date;
};

// interface ElevatedEmployee extends Employee, Admin {}

type ElevatedEmployee = Admin & Employee;

const e1: ElevatedEmployee = {
  name: 'Tina',
  privileges: ['create-server','install-instance'],
  startDate: new Date()
};

type Intersect = number & string;
let num : Intersect = 1; // Type 'number' is not assignable to type 'never'.
```
# 2. íƒ€ì… ê°€ë“œ *`Type Guard`*
íƒ€ì… ê°€ë“œëŠ” **ëŸ°íƒ€ì„ì— íƒ€ì„ì„ ê²€ì‚¬í•˜ë„ë¡ ë§Œë“œëŠ” ì¼ì¢…ì˜ ë°©ì‹ê³¼ í‘œí˜„ì‹**ì„ ì˜ë¯¸í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦¡íŠ¸ê°€ ì»´íŒŒì¼íƒ€ì„ì— íƒ€ì…ê²€ì‚¬ë¥¼ í•´ì£¼ê¸´ í•˜ì§€ë§Œ ìœ ë‹ˆì–¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ë“±ì˜ 
ê²½ìš°ì—ëŠ” íƒ€ì… ê°€ë“œë¥¼ í†µí•œ ì²˜ë¦¬ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 

### 1. typeof ì‚¬ìš©í•˜ê¸° 
ì›ì‹œíƒ€ì…ë¼ë¦¬ì˜ íƒ€ì„ê°€ë“œì— ìì£¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. 
```typescript
type Combinable = string | number;

function add(a: Combinable, b: Combinable) {
  if (typeof a === 'string' || typeof b === 'string') {
    return a.toString() + b.toString();
  }
  return a + b;
}
```
### 2. in ì‚¬ìš©í•˜ê¸° 
ê°ì²´ë¥¼ ë‹¤ë£°ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤. ê°ì²´ì˜ ì†ì„± ì¡´ì¬ì—¬ë¶€ë¥¼ ê²€ì‚¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê°€ë“œê°€ ê°€ëŠ¥í•˜ë‹¤. 
```typescript
type UnknownEmployee = Employee | Admin;

function printEmployeeInformation(emp: UnknownEmployee) {
  console.log('Name: ' + emp.name);
  if ('privileges' in emp) {
    console.log('Privileges: ' + emp.privileges);
  }
  if ('startDate' in emp) {
    console.log('Start Date: ' + emp.startDate);
  }
}
```

### 3. instanceof ì‚¬ìš©í•˜ê¸°
`in`ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ê°ì²´ì˜ íƒ€ì…ì„ ê²€ì‚¬í• ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. 1,2ë²ˆ ë°©ì‹ì˜ ë¬¸ì œì ì€ íƒ€ì…ê°€ë“œì‹œ ë¬¸ìì—´ ë¹„êµí•˜ê¸° ë•Œë¬¸ì— ì˜¤íƒ€ì˜ ìœ„í—˜ì„±ì´ ìˆë‹¤. 
`instanceof`ëŠ” ë³€ìˆ˜ëª…ì„ í†µí•´ ë³´ë‹¤ ëª…í™•í•œ íƒ€ì… ê²€ì‚¬ê°€ ê°€ëŠ¥í•˜ë‹¤. 

```typescript
type UnknownEmployee = Employee | Admin;

function printEmployeeInformation2(emp: Employee) {
  console.log('Name: ' + emp.name);
  if (emp instanceof Employee) {
    console.log('Privileges: ' + emp.privileges);
  }
}
```

# 3.êµ¬ë³„ëœ ìœ ë‹ˆì–¸ *`Discriminated Union`*
êµ¬ë³„ëœ ìœ ë‹ˆì–¸ë„ íƒ€ì…ê°€ë“œì˜ ë°©ì‹ì´ë‹¤. ê°ì²´ì™€ ìœ ë‹ˆì–¸ íƒ€ì…ì„ ì‚¬ìš©í• ë•Œ, typeì„ ëª…ì‹œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œë„ íƒ€ì… ê°€ë“œê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 
ìœ„ì— ì–¸ê¸‰í•œ instanceof ë°©ë²•ê³¼ ê°™ì´ ì˜¤íƒ€ì˜ ìœ„í—˜ì„±ì„ ì¤„ì´ë©´ì„œë„, íƒ€ì…ì˜ ì†ì„±ì— ì ‘ê·¼í•¨ìœ¼ë¡œì¨ ëª…ì‹œì ì¸ íƒ€ì…ê°€ë“œê°€ ê°€ëŠ¥í•´ì§„ë‹¤.

```typescript
interface Bird {
  type: 'bird';
  flyingSpeed: number;
}

interface Horse {
  type: 'horse';
  runningSpeed: number;
}

type Animal = Bird | Horse;

function moveAnimal(animal: Animal) {
  let speed;
  switch (animal.type) {
    case 'bird':
      speed = animal.flyingSpeed;
      break;
    case 'horse':
      speed = animal.runningSpeed;
  }
  console.log('Moving at speed: ' + speed);
}

moveAnimal({type: 'bird', flyingSpeed: 10});
```
# 4. í˜•ë³€í™˜ `Type Conversion`
í˜•ë³€í™˜ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì„¸ì„¸í•œ íƒ€ì…ì„ ì§€ì›í•˜ì§€ ëª»í•  ë•Œ ìœ ìš”í•˜ë‹¤. DOM ì†ì„±ì— ì ‘ê·¼í•˜ëŠ” ì¼€ì´ìŠ¤ê°™ì´. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” HTMLì˜ ìš”ì†Œë¥¼ `HTMLInputElement`ë¼ëŠ” ì œë„ˆë¦­ íƒ€ì…ìœ¼ë¡œ ì¼ê´„ì ìœ¼ë¡œ ì¸ì‹í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
ê·¸ë˜ì„œ ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•˜ë˜ ê²ƒì²˜ëŸ¼ `userInputElement.value`ì˜ í˜•íƒœë¡œ ê°’ì— ì ‘ê·¼í•˜ë ¤ê³  ì‹œë„í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì œë„ˆë¦­ íƒ€ì…ì˜ ì†ì„±ì— ì—†ê¸° ë•Œë¬¸ì´ë‹¤. 

ê·¸ëŸ¬ë¯€ë¡œ ì•„ë˜ ì–¸ê¸‰ëœ ë°©ë²• 1, ë°©ë²•2 ì¤‘ì— í•˜ë‚˜ì˜ ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤. í”„ë¡œì íŠ¸ ë‚´ì—ì„œëŠ” ë°©ë²•ì„ í†µì¼í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•œë‹¤.

```typescript
// ë°©ë²•1 
const userInputElement = <HTMLInputElement>document.getElementById('user-input')!;
userInputElement.value = 'Hi there!';

// ë°©ë²•2
const userInputElement = document.getElementById('user-input');
if (userInputElement) {
  (userInputElement as HTMLInputElement).value = 'Hi there!';
}
```
# 5. ì¸ë±ìŠ¤ íƒ€ì… *`Indexable Types`*
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì¸í„°í˜ì´ìŠ¤ì— ë™ì ìœ¼ë¡œ ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì¦‰, ë³´ë‹¤ ìœ ì—°í•œ ì†ì„± ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. `[your_name : type]: type`ì˜ í˜•íƒœë¡œ ì‚¬ìš©í•œë‹¤. `your_name`ì˜ ìš°ë³€ì—ëŠ” index ì ‘ê·¼ì‹œ ì‚¬ìš©í•  íƒ€ì…ì„, ëŒ€ê´„í˜¸ ìš°ë³€ì—ëŠ” ì›ì†Œì˜ íƒ€ì…ì„ ëª…ì‹œí•œë‹¤.
í•´ë‹¹ ë¼ì¸ì— ëª…ì‹œëœ íƒ€ì…ë§Œ ë™ì ì¸ íƒ€ì…ì— ì‚¬ìš©ë  ìˆ˜ ìˆìŒì— ìœ ì˜í•œë‹¤. ë¬¼ë¡  ì›ì†Œì˜ ì†ì„±ì—ëŠ” ìœ ë‹ˆì–¸ íƒ€ì…ë„ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

```typescript
interface ErrorContainer { 
  [prop: string]: string;
}

const errorBag: ErrorContainer = {
  email: 'Not a valid email!',
  username: 'Must start with a capital character!'
};
interface TypeNumberString {
  [def : number] : number | string;
}
const arr : TypeNumberString = ['a', 'b', 'c', 'd', 'e', 'f', 1 ,2 ];
console.log(arr[0]);
console.log(arr[7]);
```

# 6. ì„ íƒì  ì²´ì´ë‹ *`Optional Chaining`*
ì„ íƒì  ì²´ì´ë‹ ì—°ì‚°ìëŠ” `?` í‚¤ì›Œë“œì™€ í•¨ê»˜ ì‚¬ìš©ëœë‹¤. ì¦‰, ì ‘ê·¼í•˜ê³ ì í•˜ëŠ” ì†ì„±ì´ **ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆì„ ë•Œ** ì‚¬ìš©í•œë‹¤. ì†ì„±ì˜ ì¡´ì¬ìœ ë¬´ë¥¼ ì²´í¬í•˜ì§€ ì•Šê²Œ ëœë‹¤. í•´ë‹¹ ë¬¸ë²•ì€ typescript 3.7 ë²„ì „ë¶€í„° ì§€ì›í•˜ëŠ”ë“± ìµœê·¼ì— ì¶”ê°€ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì„ì— ìœ ì˜í•œë‹¤. 
í•´ë‹¹ ì—°ì‚°ìê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•ŒëŠ” && ì—°ì‚°ìë¥¼ ì´ìš©í•´ ì²´í¬í–ˆë‹¤. ê·¸ëŸ¬ë‚˜, í•´ë‹¹ ë¬¸ë²•ì€ ì½”ë“œì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§„ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. 

> ì„ íƒì  ì²´ì´ë‹ì„ ë‚¨ìš©í•˜ë©´ ì•ˆëœë‹¤. ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼í•˜ëŠ” ì†ì„±ì— ì˜µì…”ë„ ì²´ì´ë‹ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í˜¼ë€ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤. 

```typescript
// && ì—°ì‚°ì ì‚¬ìš©
alert( user && user.address && user.address.street ); // undefined (ì—ëŸ¬ ë¯¸ë°œìƒ)

// ì„ íƒì  ì²´ì´ë‹ ì‚¬ìš©
alert( user?.address ); // undefined (userê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° ìƒì •)
alert( user?.address?.street ); // undefined (userì™€ addressê°€ ì¡´ì¬í•˜ì§€ì•ŠëŠ” ê²½ìš° ìƒì •)
```
# 7. Null ë³‘í•© ì—°ì‚°ì *`Nullish Coalescing Operator`*
ì˜µì…”ë„ ì²´ì´ë‹ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìµœì‹  ë¬¸ë²•ì´ë‹¤. ì‚¼í•­ì—°ì‚¬ìë¥¼ ì´ìš©í•´ null ë˜ëŠ” undefinedì¸ ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ë©´ ì½”ë“œì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§„ë‹¤. null ë³‘í•© ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ 
nullê³¼ undefinedì— ëŒ€í•´ ë³´ë‹¤ ì‹¬í”Œí•œ ë¬¸ë²•ìœ¼ë¡œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.

```javascript
x = (a !== null && a !== undefined) ? a : b;
x = a ?? b
```
### References
- https://www.typescriptlang.org/docs/handbook/advanced-types.html
- https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types
- https://stackoverflow.com/questions/65114590/what-are-indexable-types-in-typescript
- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining
- https://ko.javascript.info/optional-chaining
- https://ko.javascript.info/nullish-coalescing-operator
