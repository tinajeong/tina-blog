---
title: 'Java currentTimeMillis vs nanoTime'
thumbSrc: '/static/images/java.png'
date: '2022-07-28'
tags: ['java','time','currentTimeMillis','nanoTime']
draft: false
summary: 'ìë°”ì˜ ì‹œê°„ê´€ë ¨ í•¨ìˆ˜ì™€ ìš©ë¡€ì— ëŒ€í•´ ë¹„êµí•˜ë©° ì •ë¦¬í•©ë‹ˆë‹¤.'
images: ['/static/images/java.png']
---

# ğŸ“Œ ëª©ì°¨

![java](/static/images/java.png)

## currentTimeMillis() vs nanoTime()

---

## currentTimeMillis()
- currentTimeMillsëŠ” UNIX Timestampë¡œ í˜„ì¬ ì‹œê°ì„ ms ë‹¨ìœ„ë¡œ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
- UNIX TimestampëŠ” 1970ë…„ 1ì›” 1ì¼ 00ì‹œ 00ë¶„ 00ì´ˆ(UTC)ë¥¼ ê¸°ì ìœ¼ë¡œ **íŠ¹ì • ì‹œê°„ê³¼ì˜ ì°¨ì´ë¥¼ ì •ìˆ˜í˜•íƒœë¡œ í‘œì‹œ**í•œë‹¤.
- OSì— ë”°ë¼ ì¸¡ì •ì‹œê°„ ë‹¨ìœ„ê°€ ë‹¤ë¥´ë‹¤. ëŒ€ë¶€ë¶„ì˜ OSëŠ” 10ms ë‹¨ìœ„ë¡œ ì‹œê°ì„ ì¸¡ì •í•œë‹¤.  

```java
long epoch = System.currentTimeMillis();
```

### 2038ë…„ 1ì›” 19ì¼ì— ì¼ì–´ë‚  ì‚¬ê±´
- ì •ìˆ˜ë¥¼ 32-bitë¡œ ì €ì¥í•˜ëŠ” ì»´í“¨í„°ì—ì„œëŠ” 2038ë…„ 1ì›” 19ì¼ì— overflow ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. 
- ì‹œê°„ í‘œê¸°ë²•ì„ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë°”ê¾¸ê±°ë‚˜, ì‹œìŠ¤í…œì„ ë³€ê²½í•´ì•¼ í•œë‹¤.

## nanoTime()
- nanoTimeì€ í˜„ì¬ ì‘ë™ì¤‘ì¸ JVMì˜ ì‹œê°„ì„ ns ë‹¨ìœ„ë¡œ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
- í˜„ì¬ ì‘ë™ì¤‘ì¸ JVMì˜ ì •ë°€ì‹œê°„ ì†ŒìŠ¤ì˜ í˜„ì¬ê°’ì´ë‹¤. ì „ì†¡ì†Œìš” ì‹œê°„ì„ ì¸¡ì •í•˜ê¸° ìœ„í•´ ë³„ë„ì˜ JVMì—ì„œ nanoTimeì„ êµ¬í•˜ëŠ” ê²ƒì€ ì˜ë¯¸ì—†ë‹¤.
- í˜„ì¬ í”„ë¡œê·¸ë¨ì˜ ì†Œìš”ì‹œê°„ì„ ì •ë°€í•˜ê²Œ ì¸¡ì •í•  ë•Œ ì‚¬ìš©í•œë‹¤.

```java
long startTime = System.nanoTime();
...
long endTime = System.nanoTime();
long elapsedTime = endTime- startTime;
```
### ì‹œê°„ì°¨ëŠ” 292ë…„ê¹Œì§€
- nanoTime() í•¨ìˆ˜ë¡œ êµ¬í•œ ë‘ ì‹œê°„ì˜ ì°¨ì´ê°€ 292ë…„ ì´ìƒì´ë©´ overflowì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

## Accuracyì™€ Precision
ì‹œê°„ ì •í™•ë„***Acccuracy***ê°€ ì¤‘ìš”í•  ë•  `currentTimeMillis()` ë¥¼, ì‹œê°„ì˜ ì •ë°€ë„***Precision***ê°€ ì¤‘ìš”í•  ë• `nanoTime()`ì„ ì‚¬ìš©í•œë‹¤.

---
#### reference
https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis
https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime
https://www.unixtimestamp.com/
