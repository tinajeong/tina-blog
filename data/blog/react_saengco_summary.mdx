---
title: 'ìƒí™œì½”ë”© React 2022 ê°œì •íŒ ì •ë¦¬'
thumbSrc: '/static/images/React_sangco.png'
date: '2022-04-01'
tags: ['React']
draft: false
summary: 'ìƒí™œì½”ë”© React 2022 ê°œì •íŒì„ ìˆ˜ê°•í•˜ë©° ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.'
images: ['/static/images/React_sangco.png']
---

## ğŸ“Œ ëª©ì°¨

![React](/static/images/React_sangco.png)

- **ìˆ˜ì—…ì†Œê°œ**
- **ì‹¤ìŠµí™˜ê²½êµ¬ì¶•**
- **ì†ŒìŠ¤ì½”ë“œìˆ˜ì •ë°©ë²•**
- **ì»´í¬ë„ŒíŠ¸ë§Œë“¤ê¸°**
- **props**
- **ì´ë²¤íŠ¸**
- **State**
- **create**
- **update**
- **delete**  
- [ì •ë¦¬í•œ ì†ŒìŠ¤ì½”ë“œ](https://github.com/tinajeong/react_saengco)
---

## ìˆ˜ì—…ì†Œê°œ

1. ë¦¬ì•¡íŠ¸ëŠ” ì‚¬ìš©ìì •ì˜íƒœê·¸ë¥¼ ë§Œë“¤ê³ , íƒœê·¸ê°€ ë¶€í’ˆì´ ë˜ì–´ì„œ ì´ìš©ë˜ëŠ” í˜•íƒœì— íŠ¹í™”ëœ í”„ë ˆì„ì›Œí¬ì´ë‹¤.
2. class í˜• ë¬¸ë²•ê³¼ function í˜• ë¬¸ë²•ì´ ìˆëŠ”ë°, ì´ë²ˆ ê°•ì˜ì—ì„œëŠ” í•¨ìˆ˜í˜• ë¬¸ë²•ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ë¥¼ ë‹¤ë£¬ë‹¤.
3. ì–´ë µê³  ë³µì¡í•œ í…Œí¬ë‹‰ì€ ê·¸ë•Œ ê·¸ë•Œ ë°°ì›Œì„œ ì‚¬ìš©í•œë‹¤.

## ì‹¤ìŠµí™˜ê²½êµ¬ì¶•

### ì˜¨ë¼ì¸

[CodeSandbox](https://codesandbox.io/s/new), [Stackblitz](https://stackblitz.com/fork/react) ë“±ì„ í†µí•´ ë¡œì»¬ ê°œë°œí™˜ê²½ì„ êµ¬ì¶•í•  í•„ìš”ì—†ì´ ì—¬ëŸ¬ê°€ì§€ë¥¼ ì‹œë„í•´ë³¼ ìˆ˜ ìˆë‹¤.

### ë¡œì»¬

#### Create React App (a.k.a cra)

1. npx ëª…ë ¹ì–´ë¥¼ í†µí•´ craë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ nodejsë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì•¼ í•œë‹¤.
2. nodejs ì„¤ì¹˜í•˜ê³  ë‚œ ë‹¤ìŒì— ìƒì„±í•˜ê¸° ì›í•˜ëŠ” react í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.
3. `npx create-react-app .` ë˜ëŠ” `npx create-react-app projectname` ë¥¼ íƒ€ì´í•‘í•œë‹¤.
   - ì²«ë²ˆì§¸ ì˜µì…˜ì€ í˜„ì¬í´ë”ì— ìƒì„±, ë‘ë²ˆì§¸ ì˜µì…˜ì€ í”„ë¡œì íŠ¸ì´ë¦„ì„ ê°€ì§„ í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ í´ë” í•˜ìœ„ì— ìƒì„±í•œë‹¤.

#### dependency template ë§Œë“¤ê¸°

í•´ë‹¹ ì˜µì…˜ì€ ì´ë²ˆ ê°•ì¢Œì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

## ì†ŒìŠ¤ì½”ë“œ ìˆ˜ì •ë°©ë²•

- `src/index.js` íŒŒì¼ì€ ì‹œì‘ì´ ë˜ëŠ” íŒŒì¼ì´ë‹¤. ì „ì—­ì ì¸ ì„¸íŒ…ì´ ë“¤ì–´ ìˆë‹¤.
- index.jsì•ˆì—ëŠ” `<App/>` íƒœê·¸ê°€ ìˆëŠ”ë°, ì´ëŠ” uiì˜ ì „ì²´ë¥¼ ì˜ë¯¸í•˜ë©°, í•´ë‹¹ ë‚´ìš©ì€ App.js ì— ê¸°ì¬ë˜ì–´ìˆë‹¤.
- `public/index.html`ì—ëŠ” `index.js`ì—ì„œ ë Œë”ë§í•˜ëŠ” idê°€ rootì¸ ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ìˆë‹¤.
- ë¦¬ì•¡íŠ¸ 18ë¶€í„°ëŠ” `ReactDOM.render` ëŒ€ì‹  `createRoot`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 2022ë…„ 3ì›” 30ì¼ ì´í›„ì—” cra ë¥¼ ì‚¬ìš©í•´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ ë²„ì „ì´ ë§ì§€ ì•Šì•„ ì—…ê·¸ë ˆì´ë“œí•˜ë¼ëŠ” ë©”ì„¸ì§€ê°€ ëœ¬ë‹¤.
  ì•„ë˜ëŠ” `createRoot`ë¥¼ ì‚¬ìš©í•´ í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™” í•œ ê²ƒì´ë‹¤.

```javascript
import React from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App'
import reportWebVitals from './reportWebVitals'

const container = document.getElementById('root')
const root = createRoot(container)
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
)
```

## ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

- ë¦¬ì•¡íŠ¸ëŠ” `ì‚¬ìš©ì ì •ì˜ íƒœê·¸`ë¥¼ ë§Œë“œëŠ” ê¸°ìˆ ì´ë‹¤.
- `ì‚¬ìš©ì ì •ì˜ íƒœê·¸`ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì†Œë¬¸ìê°€ ì•„ë‹Œ ëŒ€ë¬¸ìë¡œ ì„ ì–¸í•´ì•¼ í•œë‹¤.
- ë¦¬ì•¡íŠ¸ì—ì„œëŠ” `ì‚¬ìš©ì ì •ì˜ íƒœê·¸`ë¥¼ ì»´í¬ë„ŒíŠ¸ë¼ê³  ë¶€ë¥¸ë‹¤.
- ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ì¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ì„œ í™”ë©´ì„ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤.

```javascript
function Header(props) {
  return (
    <header>
      <h1>
        <a href="/">ì œëª©</a>
      </h1>
    </header>
  );
}
...

function App () {
    return
    ... <Header></Header>
    <Header/>
}
```

## props

- htmlì— ì†ì„±ê°’ì´ ë“¤ì–´ê°ˆ ë•Œê°€ ìˆë‹¤.
- ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ì— ì²«ë²ˆì§¸ ì¸ìë¡œ `props`ë¥¼ ë„˜ê¸°ë©´ ì†ì„±ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
  - ì¸ìì˜ ì´ë¦„ì€ ìƒê´€ì—†ë‹¤.
- ì†ì„±ê°’ì„ ì°¸ì¡°í•  ë•ŒëŠ” `{}`, ì¤‘ê´„í˜¸ë¥¼ ì‚¬ìš©í•œë‹¤. ë¦¬ì•¡íŠ¸ë¥¼ ì´ë¥¼ í‘œí˜„ì‹ì´ë¼ê³  ì¸ì‹í•œë‹¤.
  - í‘œí˜„ì‹ì˜ ìë¦¬ì— ë°°ì—´ì´ ì˜¬ ìˆ˜ë„ ìˆë‹¤. ë¦¬ì•¡íŠ¸ê°€ ì•Œì•„ì„œ ë°°ì—´ì„ ë Œë”ë§í•´ì¤€ë‹¤.
- ë°°ì—´ ë Œë”ë§ ì‹œì—ëŠ” key ì†ì„±ì— ìœ ë‹ˆí¬í•œ ê°’ì„ ì£¼ì–´ì•¼ í•œë‹¤.

```javascript
function Header(props) {
  return (
    <header>
      <h1>
        <a href="/">{props.title}</a>
      </h1>
    </header>
  );
}
function Navigator(props) {
  const list = [];
  props.topics.map((topic) => {
    list.push(
       <li key={topic.id}>
        <a href={"/read/" + topic.id}>{topic.title}</a>
      </li>
    );
  });
  return (
    <nav>
      <ol>{list}</ol>
    </nav>
  );
}
...
function App () {
    const topics = [
        { id: 1, title: "html", body: "html is..." },
        { id: 2, title: "css", body: "css is..." },
        { id: 3, title: "javascript", body: "javascript is..." },
    ];
    return
    ... <Header title="íƒ€ì´í‹€"></Header>
    <Navigator topics={topics}></Navigator>
}
```

## ì´ë²¤íŠ¸

- ë¦¬ì•¡íŠ¸ ì½”ë“œì— ë“¤ì–´ê°€ëŠ” ì´ë²¤íŠ¸ ì†ì„±ì´ë¦„ì€ htmlê³¼ ë‹¤ë¥´ë‹¤ëŠ” ì ì— ìœ ì˜í•œë‹¤. ex) `onClick`
- `onChangeMode`ëŠ” í•¨ìˆ˜ ì¸ìë¡œ idê°’ì´ í•„ìš”í•˜ë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ìš”ì†Œì˜ íƒœê·¸ idì— ì•„ì´ë””ë¥¼ ë¶€ì—¬í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```javascript

function Navigator(props) {
  const list = [];
  props.topics.map((topic) => {
    list.push(
      <li key={topic.id}>
        <a id={topic.id} href={"/read/" + topic.id} onClick={ event =>{
          event.preventDefault();
          props.onChangeMode(event.target.id);
        }}>{topic.title}</a>
      </li>
    );
  });
  return (
    <nav>
      <ol>{list}</ol>
    </nav>
  );
}
...
function App() {
    ...
   return (
    <div className="App">
      ...
      <Navigator topics={topics} onChangeMode={(id)=>{
        alert(id);
      }}></Navigator>
      ...
    </div>
  );
}
```

## State

- inputì¸ propì´ ë“¤ì–´ì˜¤ë©´, ì»´í¬ë„ŒíŠ¸í•¨ìˆ˜ì—ì„œ uië§Œë“¤ì–´ returní•´ì¤€ë‹¤.
- `prop`ì€ ì™¸ë¶€ ì½”ë“œë¥¼ ìœ„í•œ ë°ì´í„°, `state`ëŠ” ë‚´ë¶€ ì½”ë“œë¥¼ ìœ„í•œ ë°ì´í„°ì´ë‹¤.
- ìƒíƒœê°’ì€ ë¦¬ì•¡íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸í›…ì¸ useStateì„ í†µí•´ ê´€ë¦¬í•œë‹¤.
  - `import {useState} from 'react';`
- useState ì„ ì–¸ ì‹œ ê¸°ì…í•˜ëŠ” ì¸ìëŠ” ìƒíƒœì˜ ì´ˆê¸°ê°’ì´ë‹¤.
- useStateì˜ ì²«ë²ˆì§¸ ìš”ì†ŒëŠ” ìƒíƒœê°’ ê·¸ ìì²´ì´ë©°, ë‘ë²ˆì§¸ìš”ì†ŒëŠ” ìƒíƒœê°’ì„ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
  - êµ¬ì¡°ë¶„í•´í• ë‹¹ ë¬¸ë²•ì„ í†µí•´ ê°„ëµí•˜ê²Œ ê¸°ìˆ í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ex) `const [mode, setMode] = useState('WELCOME');`
- `onChangeMode`ì˜ ì¸ìë¡œ ìˆ«ìíƒ€ì…ì´ ë“¤ì–´ê°€ì•¼ í•œë‹¤.

```javascript
function Navigator(props) {
  const list = [];
  props.topics.map((topic) => {
    list.push(
      <li key={topic.id}>
        <a id={topic.id} href={"/read/" + topic.id} onClick={event =>{
          event.preventDefault();
          props.onChangeMode(parseInt(event.target.id));
        }}>{topic.title}</a>
      </li>
    );
  });
  return (
    <nav>
      <ol>{list}</ol>
    </nav>
  );
}
...
function App() {
  // const _mode = useState('WELCOME'); // ì´ˆê¸°ê°’
  // const mode = _mode[0];
  // const setMode = _mode[1];

  const [mode, setMode] = useState('WELCOME');
  const [id,setId] = useState(null);
  ...
  let content = null;
  if(mode ==='WELCOME') {
    content = <Article title="Welcome" body="Hello, WEB"></Article>;
  }
  else if(mode ==='READ') {
    let title, body = null;
    topics.map((topic)=>{
      if(topic.id === id) {
        title = topic.title;
        body = topic.body;
      }
    })
    content = <Article title={title} body={body}></Article>;
  }
  return (
    <div className="App">
      <Header title="REACT" onChangeMode={()=>{
        setMode('WELCOME');
      }}></Header>
      <Navigator topics={topics} onChangeMode={(_id)=>{
        setMode('READ');
        setId(_id);
      }}></Navigator>
      {content}
    </div>
  );
}
```

## create

- useStateì˜ ìƒíƒœ íƒ€ì…ì€ primitiveíƒ€ì…ê³¼ object íƒ€ì…ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤.
- ê°€ì¥ ìœ ëª…í•˜ê³  ë§ì´ ì“°ì´ëŠ” ìƒíƒœ íƒ€ì…ì€ string, number, boolean ì´ë‹¤.
- ìƒíƒœì˜ íƒ€ì…ì´ objectë¼ë©´, ë°ì´í„°ë¥¼ ë³µì œí•´ì£¼ì–´ì•¼ í•œë‹¤. ex) `newValue = {...value}`, `newValue = [...value]`
- object íƒ€ì…ì—ëŠ” objectì™€ arrayê°€ í¬í•¨ëœë‹¤.
- ì›ë³¸ì—ì„œ ê°’ì´ ë³€ê²½ëœ ë³µì œë³¸ì„ ìƒíƒœì„¤ì •í•¨ìˆ˜ì˜ ì¸ìë¡œ ë„£ì–´ì£¼ë©´, ë¦¬ì•¡íŠ¸ëŠ” ì´ì „ ë°ì´í„°ì™€ ë™ì¼í•œì§€ ë¹„êµí•˜ê³ , ë‹¤ë¥´ë‹¤ë©´ ê·¸ë•Œ ë‹¤ì‹œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œë‹¤.
  - stateë¥¼ setí•œë‹¤ê³  ë°”ë¡œ eagerí•˜ê²Œ ë Œë”ë§í•˜ì§€ì•Šê³ , lazyí•˜ê²Œ ì²˜ë¦¬í•œë‹¤.

```javascript
function Create(props) {
  return <article>
    <form onSubmit={event=>{
      event.preventDefault();
      const title = event.target.title.value;
      const body  = event.target.body.value; 
      props.onCreate(title,body);
    }}>
      <p><input type="text" name="title" placeholder="title"/></p>
      <p><textarea name="body" placeholder="body" ></textarea></p>
      <p><input type="submit" value="Create"></input></p>
    </form>
  </article>
}
...
function App() {
    const [mode, setMode] = useState('WELCOME');
    const [id,setId] = useState(null);
    const [nextId, setNextId] = useState(4);
    const [topics, setTopics] = useState([
        { id: 1, title: "html", body: "html is..." },
        { id: 2, title: "css", body: "css is..." },
        { id: 3, title: "javascript", body: "javascript is..." },
    ]);
    ...
      else if(mode ==='CREATE') {
    content = <Create onCreate={(_title,_body)=>{
      const newTopic = {id:nextId, title:_title,body:_body}

      const newTopics = [...topics];
      newTopics.push(newTopic);
      setTopics(newTopics);
      setMode('READ');
      setId(nextId);
      setNextId(nextId+1);
    }}></Create>;
    ...
     return (
    <div className="App">
     ...
      <a href="/create" onClick={(e)=>{
        e.preventDefault();
        setMode('CREATE');
      }}>create</a>
    </div>
  );
  }
}
```
## update 
- propsì˜ titleê³¼ bodyë¥¼ í…ìŠ¤íŠ¸ ì˜ì—­ì— ì„¸íŒ…í•´ì£¼ë©´ input í…ìŠ¤íŠ¸ê°€ ìˆ˜ì •ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŠ” `props` ëŠ” ì™¸ë¶€ ì½”ë“œë¥¼ ìœ„í•œ ë°ì´í„°ì´ê¸° ë•Œë¬¸ì´ë‹¤. `state`ë¥¼ ì‚¬ìš©í•´ ë‚´ë¶€ì˜ ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    - ì•„ë˜ ì½”ë“œì—ì„œëŠ” title, body ë¥¼ stateë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤. 
```javascript
function Update(props){
  const [title, setTitle] = useState(props.title);
  const [body, setBody] = useState(props.body);
  return <article>
    <h2>Update</h2>
    <form onSubmit={event=>{
      event.preventDefault();
      const title = event.target.title.value;
      const body = event.target.body.value;
      props.onUpdate(title, body);
    }}>
      <p><input type="text" name="title" placeholder="title" value={title} onChange={event=>{
        setTitle(event.target.value);
      }}/></p>
      <p><textarea name="body" placeholder="body" value={body} onChange={event=>{
        setBody(event.target.value);
      }}></textarea></p>
      <p><input type="submit" value="Update"></input></p>
    </form>
  </article>
}
...
  else if(mode ==='UPDATE') {
    let title, body = null;
    const pickedIndex = topics.findIndex(topic => {
      return topic.id === id;
    }) 
    title = topics[pickedIndex].title;
    body = topics[pickedIndex].body;

    content = <Update title={title} body={body} onUpdate={
      (title,body) => {
        const newTopics = [...topics];
        newTopics[pickedIndex] = {id:id, title:title, body:body};
        setTopics(newTopics);
        setMode('READ');
      }
    }></Update>  
  }
```
## delete
- react ì»´í¬ë„ŒíŠ¸ ì•ˆì— ì—¬ëŸ¬ê°œ íƒœê·¸ê°€ ë“¤ì–´ê°€ì•¼ í• ë•ŒëŠ” `<></>` ì²˜ëŸ¼ ë¹ˆíƒœê·¸ë¡œ ë¬¶ì–´ì¤€ë‹¤. 
```javascript
    contextControl = <>
    <li><a href={'/update/'+id} onClick={e=>{
      e.preventDefault();
      setMode('UPDATE');
    }}>update</a></li>
    <li><input type="button" value="Delete" onClick={()=>{
      const newTopics = []
      for(let i=0; i<topics.length; i++){
        if(topics[i].id !== id){
          newTopics.push(topics[i]);
        }
      }
      setTopics(newTopics);
      setMode('WELCOME');
    }} /></li>
  </>
```
## ê¶ê¸ˆì¦

- ì‹¤ë¬´ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ cssëŠ” ì–´ë–»ê²Œ ê´€ë¦¬í• ê¹Œ? ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì˜ í¼ë¸”ë¦¬ì‹±ë‹´ë‹¹ìëŠ” ì–´ë–¤ì‹ìœ¼ë¡œ í¼ë¸”ì„ ì¤„ê¹Œ? ì¼ê´€ì„±ê³¼ ë‹¤ì–‘ì„±ì„ ë‘˜ë‹¤ ì¡ê¸° ìœ„í•œ ì„¤ê³„ê°€ í•„ìš”í•  ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.
- ì»´í¬ë„ŒíŠ¸ê°€ ì°¸ì¡°í•˜ëŠ” propì´ ìˆì„ë•Œ, í•´ë‹¹ê°’ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë“± ì°¸ì¡°ë  ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ëŸ° ê²½ê³ ë‚˜ ì—ëŸ¬ë„ ì—†ì´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶œë ¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ì™œ ê·¸ëŸ° ê²ƒì¼ê¹Œ?
- `import React from "react";`ëŠ” react 17ì´ìƒì˜ craë¡œ ì„¸íŒ…í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì—ì„œëŠ” auto-importê°€ ëœë‹¤ê³  í–ˆëŠ”ë°, react 18ì˜ `createRoot` ì˜µì…˜ì„ ì ìš©í•˜ë©´ì„œ ë‹¤ì‹œ auto-importê°€ ë˜ì§€ ì•Šì•˜ë‹¤.
- `State` íŒŒíŠ¸ì—ì„œ `props.onChangeMode(parseInt(event.target.id));`ì²˜ëŸ¼ ì™œ ìˆ«ìíƒ€ì…ìœ¼ë¡œ ë³€í™˜ì‹œì¼œ ë“¤ì–´ê°€ì•¼ í•˜ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤.

## ì°¸ê³ 

- https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html#updates-to-client-rendering-apis
- https://bobbyhadz.com/blog/react-createroot-target-container-not-dom-element
