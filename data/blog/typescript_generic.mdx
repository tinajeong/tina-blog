---
title: 'Typescript ì •ë¦¬ -Generic'
thumbSrc: '/static/images/typescript.webp'
date: '2022-07-03'
tags: ['typescript', 'generic']
draft: false
summary: 'íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ Generic ë¬¸ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.'
images: ['/static/images/typescript.webp']
---

# ğŸ“Œ ëª©ì°¨

![typescript](/static/images/typescript.webp)

---

# Genericì´ë€?

`generic`ì€ "ì¼ë°˜ì ì¸"ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ `general`ì˜ ìœ ì‚¬ì–´ì´ë‹¤.

> **Generic** [adj]  
> You use generic to describe something that refers or relates to **a whole class of similar things**.
> Synonyms: collective, general, common, wide

í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œì˜ **ì¼ë°˜ì ì¸ íƒ€ì…**ì€ number, string ë“± íŠ¹ì • íƒ€ì…ì— ì¢…ì†ë˜ì§€ ì•Šì€ ì¼ë°˜í™”ëœ íƒ€ì…ì˜ ë§¥ë½ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. 
ì¡°ê¸ˆ ê³¼ê²©í•˜ê²Œ í‘œí˜„í•˜ë©´, íƒ€ì…ì´ ë¬´ì—‡ì´ì–´ë„ ìƒê´€ì—†ëŠ” í¬ìš©ì„±ìˆëŠ” íƒ€ì…ì´ generic typeì´ë‹¤.

# ë‚´ì¥ ì œë„¤ë¦­

## íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ë‚´ì¥ ì œë„¤ë¦­ íƒ€ì… : Array

```typescript
const names: Array = []; // error : Generic type 'Array<T>' requires 1 type argument(s).
const names2: Array<string> = ['a', 'b'];
names2.toString(); // 'a','b'
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ `Array`ëŠ” ì œë„¤ë¦­ íƒ€ì…ì´ë‹¤. ì œë„¤ë¦­ íƒ€ì…ì— íŠ¹ì •í•œ íƒ€ì…ì„ ì§€ì •í•´ ëª…ì‹œëœ type ì •ë³´ë¥¼ í† ëŒ€ë¡œ íƒ€ì…ì— ì•Œë§ì€ ì²˜ë¦¬ë¥¼ í•´ì¤„ ìˆ˜ ìˆë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì œë„¤ë¦­ íƒ€ì… : Promise

```typescript
const promise: Promise<number> = new Promise((resolve, reject) => {
  setTimeout(() => {
    resolve(10)
  }, 1000);
})
promise.then((data) => {
  data += 10;
})
```
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ Promiseë„ ì œë„¤ë¦­ íƒ€ì…ì´ì§€ë§Œ, ê²°êµ­ ë¦¬í„´ë  íƒ€ì…ì„ ëª…ì‹œí•´ì¤€ë‹¤ë©´ ë³´ë‹¤ ì ì ˆí•˜ê³  type-safeí•œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.

# ì œë„¤ë¦­ í•¨ìˆ˜ ì •ì˜í•˜ê¸°
```typescript
function merge<T,U> (objA : T, objB : U) {
    return Object.assign(objA, objB);
}
const mergedObj = merge({name: 'Tina'}, {age:30});
console.log(mergedObj); // [LOG]: {  "name": "Tina",  "age": 30} 
const mergedObj2 = merge({car :'ìŠ¹ìš©ì°¨'}, { cycle : 'MTB'}); 
console.log(mergedObj2);// [LOG]: { "car": "ìŠ¹ìš©ì°¨", "cycle": "MTB"} 
```
ìœ„ì™€ ê°™ì´ `merge` í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë‹¤ì–‘í•œ íƒ€ì…ì„ ë°›ì•„ë“¤ì´ê² ë‹¤ëŠ” ê²ƒì„ ì¸ì‹í•œë‹¤. **ì¬ì‚¬ìš©ì„±ì´ ë†’ì€ ì½”ë“œ**ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì œë„¤ë¦­ íƒ€ì…ì˜ í° ì¥ì ì´ë‹¤.

> ì œë„¤ë¦­ì„ ì •ì˜í• ë•Œ  :  
> ì¼ë°˜ì ìœ¼ë¡œ ì•ŒíŒŒë²³ ëŒ€ë¬¸ì í•˜ë‚˜ë¡œ ëª…ì‹œí•˜ê³ , íŒŒë¼ë¯¸í„°ê°€ í•˜ë‚˜ì¼ë•ŒëŠ” T(`Type`)ë¥¼ ì‚¬ìš©í•œë‹¤. 

# ì œì•½ì¡°ê±´ ì„¤ì •í•˜ê¸°
ì•ì„œ ì‘ì„±í•œ ì œë„¤ë¦­ í•¨ìˆ˜ëŠ” ê°ì²´ê°€ ì•„ë‹Œ number, string ê°™ì€ primitive íƒ€ì…ì„ ì…ë ¥í•˜ë©´ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. `Object.assign` í•¨ìˆ˜ëŠ” ê°ì²´ì—ì„œ ëŒ€í•´ì„œë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

## `extends` 
```typescript
function merge<T extends object, U extends object>(objA: T, objB: U) {
  return Object.assign(objA, objB);
}

const mergedObj = merge({ name: 'Max', hobbies: ['Sports'] }, { age: 30 });
console.log(mergedObj);
```
ë¬´í•œì •ìœ¼ë¡œ íƒ€ì…ì„ ìœ ì—°í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `T extends object`ê³¼ ê°™ì´ ì œì•½ì¡°ê±´ì„ ì„¤ì •í•´ì„œ type-safeí•œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.

```typescript
interface Lengthy {
  length: number;
}

function countAndDescribe<T extends Lengthy>(element: T): [T, string] {
  let descriptionText = 'Got no value.';
  if (element.length === 1) {
    descriptionText = 'Got 1 element.';
  } else if (element.length > 1) {
    descriptionText = 'Got ' + element.length + ' elements.';
  }
  return [element, descriptionText];
}

console.log(countAndDescribe(['Sports', 'Cooking'])); // [["Sports", "Cooking"], "Got 2 elements."] 
console.log(countAndDescribe('Hi there!')); // ["Hi there!", "Got 9 elements."] 
console.log(countAndDescribe(10)); // Argument of type 'number' is not assignable to parameter of type 'Lengthy'.
```
ìœ„ì˜ ì½”ë“œë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤. `type`ì´ë‚˜ `interface`ë¥¼ ì‚¬ìš©í•´ íƒ€ì…ì„ ì •ì˜í•˜ê³ , ì œë„¤ë¦­ íƒ€ì… `T`ê°€ `Lengthy`ë¥¼ ìƒì†í•˜ë„ë¡ ì„¤ì •í•˜ì˜€ë‹¤. 
ê·¸ëŸ¬ë©´, `countAndDescribe`ì— ì¸ìë¡œ ë„˜ì–´ê°€ëŠ” `element`ëŠ” ë°˜ë“œì‹œ number íƒ€ì…ì¸ length ìš”ì†Œë¥¼ ê°€ì ¸ì•¼í•œë‹¤. number íƒ€ì…ì¸ 10ì€ lengthë¥¼ ìš”ì†Œë¡œ ê°€ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

> íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” `countAndDescribe(10)`ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ë§Œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë°œìƒí•˜ì§€ ì•Šê³ , ì •ìƒì¶œë ¥ëœë‹¤. -> `[10, "Got no value."]`

## `keyof`
```typescript
function extractAndConvert<T extends object, U extends keyof T>(
  obj: T,
  key: U
) {
  return 'Value: ' + obj[key];
}

extractAndConvert({ name: 'Tina' , gender : 'Female'}, 'name');
```
keyof ëŠ” ë¶€ëª¨íƒ€ì…ì˜ í‚¤ë¥¼ ëª¨ì•„ ìœ ë‹ˆì–¸ íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” í‚¤ì›Œë“œì´ë‹¤. ìœ„ ì½”ë“œì˜ `U`ëŠ” `keyof T`ë¥¼ ìƒì† ë°›ìœ¼ë¯€ë¡œ, ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ê°’ì´ `'name'` ë˜ëŠ” `'gender'`ì´ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
keyofëŠ” ì—†ëŠ” í‚¤ê°’ì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°ë¥¼ ë°©ì§€ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìœ ìš©í•˜ë‹¤.

# Generic class 

```typescript
class DataStorage<T> {
  private data: T[] = [];

  addItem(item: T) {
    this.data.push(item);
  }

  removeItem(item: T) {
    if (this.data.indexOf(item) === -1) {
      return;
    }
    this.data.splice(this.data.indexOf(item), 1); // -1
  }

  getItems() {
    return [...this.data];
  }
}

const textStorage = new DataStorage<string>();
textStorage.addItem('a');
textStorage.addItem('b');
textStorage.removeItem('a');
console.log(textStorage.getItems());

const numberStorage = new DataStorage<number>();
numberStorage.addItem(1);
numberStorage.addItem(2);
numberStorage.removeItem(2);
console.log(numberStorage.getItems());

const objStorage = new DataStorage<object>();
const human = {name: 'Tina'};
//objStorage.addItem({name: 'Tina'});
//objStorage.removeItem({name: 'Tina'});
objStorage.addItem(human);
objStorage.removeItem(human);
console.log(objStorage.getItems());
```
ì œë„¤ë¦­ í•¨ìˆ˜ ë¿ ì•„ë‹ˆë¼ ì œë„¤ë¦­ í´ë˜ìŠ¤ë„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ ìœ„ ì½”ë“œëŠ” objectë¥¼ ì›ì†Œ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤. 
objectëŠ” ì°¸ì¡°íƒ€ì…ì´ë¯€ë¡œ ì£¼ì„ì²˜ë¦¬ëœ ë‘ê°œì˜ objectë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ì¸ì‹í•˜ê³ , í•­ìƒ ë§ˆì§€ë§‰ ì›ì†Œë¥¼ ì‚­ì œí•˜ê²Œ ëœë‹¤ëŠ” ìœ„í—˜ì„±ì´ ìˆë‹¤. 
ë™ì¼í•œ ì›ì†Œë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œëŠ”, ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³ , í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì¸ìë¡œ ë„˜ê¸°ë©´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.  

ì•„ë‹ˆë©´ í´ë˜ìŠ¤ì˜ íƒ€ì…ì„ `<T extends string | number | boolean>`ì™€ ê°™ì´ í•œì •í•´ì£¼ëŠ” ì²˜ë¦¬ë„ ê°€ëŠ¥í•˜ë‹¤. 

> objectëŠ” `Call by Reference`ë¼ëŠ” ì‚¬ì‹¤ì— ìœ ì˜í•œë‹¤. 

# Generic Utility Type

## `Partial`
íŠ¹ì • íƒ€ì…ì˜ ëª¨ë“  ì†ì„±ë“¤ì„ Optional ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì œë„¤ë¦­ íƒ€ì…ì´ë‹¤. ì•„ë˜ ì½”ë“œëŠ” `Todo` íƒ€ì…ì¸ ë³€ìˆ˜ì˜ ì¼ë¶€ ê°’ì„ update ì‹œí‚¤ê¸° ìœ„í•´ 
Partialíƒ€ì…ì„ ì‚¬ìš©í•´ì¤¬ë‹¤. `description`ë§Œ ì§€ì •í•´ì„œ ë„˜ê²¨ì¤˜ë„ ë¬¸ì œê°€ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ë‹¤.
```typescript
interface Todo {
  title: string;
  description: string;
}
 
function updateTodo(todo: Todo, fieldsToUpdate: Partial<Todo>) {
  return { ...todo, ...fieldsToUpdate };
}
 
const todo1 = {
  title: "organize desk",
  description: "clear clutter",
};
 
const todo2 = updateTodo(todo1, {
  description: "throw out trash",
});
```
## `Readonly`
ReadonlyëŠ” í•œë²ˆ ê°’ì„ í• ë‹¹í•˜ë©´ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì—ì„œ ìƒìˆ˜ì™€ ìœ ì‚¬í•˜ë‹¤. ReadonlyëŠ” ê°ì²´ì˜ ëª¨ë“  í•˜ìœ„ ì†ì„±ì— ì ìš©ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤. Readonlyë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ì†ì„±ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.
ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `Object.freeze` ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. 
```typescript
const names : Readonly<string[]> = ['Tina', 'Dori','Theia'];
names.push('Name'); // Property 'push' does not exist on type 'readonly string[]'.
names.pop() ; // Property 'pop' does not exist on type 'readonly string[]'.
```

```typescript
interface Todo {
  title: string;
}
 
const todo: Readonly<Todo> = {
  title: "Delete inactive users",
};
 
todo.title = "Hello"; // Cannot assign to 'title' because it is a read-only property.
```

# Generic Type vs Union Type
Generic Typeì€ compile íƒ€ì„ì— ì‚¬ìš©ìê°€ íƒ€ì…ì„ ëª…ì‹œí•˜ê³ , íƒ€ì…ì´ ë­˜ë¡œ ëª…ì‹œë˜ë“ ì§€ ê´€ë ¨í•´ì„œ **ê³µí†µëœ ì²˜ë¦¬**ë¥¼ í•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤. 
Union Typeì€ ëª…ì‹œëœ ì—¬ëŸ¬ê°€ì§€ì˜ íƒ€ì…ì„ ë°›ì•„ë“¤ì´ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ, ê³µí†µëœ ì²˜ë¦¬ë³´ë‹¤ëŠ” íƒ€ì…ë³„ë¡œ ë¶„ê¸°ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. 

## Reference

- https://www.collinsdictionary.com/dictionary/english/generic
- https://academind.com/tutorials/reference-vs-primitive-values
- https://www.typescriptlang.org/docs/handbook/2/keyof-types.html#handbook-content
- https://www.typescriptlang.org/docs/handbook/utility-types.html
- https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze